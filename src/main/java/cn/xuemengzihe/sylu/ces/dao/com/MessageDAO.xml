<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.xuemengzihe.sylu.ces.dao.com.MessageDAO">
	<insert id="insertMessage" parameterType="message" useGeneratedKeys="true" keyColumn="id">
		INSERT INTO `message` (
			`type`,
			`sender_id`,
			`receiver_id`,
			`title`,
			`content`,
			`state`,
			`with_mail`,
			`is_valid`,
			`c_time`,
			`u_time`
		) VALUES (
			#{type},
			#{senderId},
			#{receiverId},
			#{title},
			#{content},
			#{state},
			#{withMail},
			#{isValid},
			#{cTime}, 
			#{uTime}
		)
	</insert>
	<delete id="deleteMessage" parameterType="int">
		DELETE FROM  `message` WHERE `id` = #{id}
	</delete>
	<update id="updateMessage" parameterType="message">
		UPDATE `message` SET 
			`type` = #{type},
			`sender_id` = #{senderId},
			`receiver_id` = #{receiverId},
			`title` = #{title},
			`content` = #{content},
			`state` = #{state},
			`with_mail` = #{withMail},
			`is_valid` = #{isValid}
		WHERE
		    `id` = #{id}
	</update>
	<select id="findMessageById" parameterType="int" resultType="message">
		SELECT * FROM `message` WHERE `id` = #{id}
	</select>
	<select id="findMessageWithMap" parameterType="map" resultType="map">
 
	</select>
</mapper>