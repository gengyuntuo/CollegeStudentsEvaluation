<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.xuemengzihe.sylu.ces.dao.com.SettingDAO">
	<insert id="insertSetting" parameterType="setting">
		<selectKey order="AFTER" keyProperty="id">
			SELECT LAST_INSERT_ID()
		</selectKey>
		INSERT INTO
		setting(
		`type`,
		`owner_id`,
		`setting`,
		`value`
		) VALUES(
		#{type},
		#{ownerId},
		#{setting},
		#{value}
		)
	</insert>
	<insert id="insertSettings" parameterType="setting">
	</insert>
	<delete id="deleteSettingById" parameterType="int">
		DELETE FROM setting WHERE id=#{id}
	</delete>
	<delete id="deleteSettingsByIds" parameterType="int">
	</delete>
	<update id="updateSetting" parameterType="setting">
		UPDATE setting
		SET
		name=#{name},
		value=#{value}
		WHERE id=#{id}
	</update>
	<select id="findSettingById" parameterType="int" resultType="setting">
		SELECT *
		FROM setting
		WHERE id = #{id}
	</select>
	<select id="findSettingsByType" parameterType="string" resultType="setting">
		SELECT *
		FROM setting
		WHERE type=#{value}
	</select>
	<select id="findSettingsByOwnerId" parameterType="int" resultType="setting">
		SELECT *
		FROM setting
		WHERE owner_id=#{value}
	</select>
	<select id="findSettingsBySettingName" parameterType="string" resultType="setting">
		SELECT *
		FROM setting
		WHERE name=#{value}
	</select>
</mapper>